# [Web] display 'undefined' in alert (extended from Bug #38723)

Description: B端 兜圈管理 粉絲管理 紛絲篩選 篩選條件不符 alert 顯示 undefined
Priority: P3
Assign: Lyle Stack
Status: Done
Created time: October 17, 2024 3:21 PM
Branch: http://gitlab.twjoin.com:1500/dolfan-projects/dolfan-nuxt-frontend/-/tree/fix/CU240916-fan-club-setting-filter-alert-message?ref_type=headshttp://gitlab.twjoin.com:1500/dolfan-projects/dolfan-nuxt-frontend/-/commit/c46de600e7ce704635a742b84ab9f03275d3dc63 
Tags: Rendering

# Problem

---

- Returned error message is not display correct on web’s alert box. It displays ‘undefined’.

# Expected behavior

---

- Should display the message return from back-end (see figure 1)

# User reports

---

- N/A

# Screenshots / Videos

---

![figure 1:console 錯誤訊息顯示正確，但 alert 視窗顯示 undefined](image.png)

figure 1:console 錯誤訊息顯示正確，但 alert 視窗顯示 undefined

# Solution / Fixing Result

---

- This issue is not only appear in the B端/兜圈管理/粉絲管理/紛絲篩選.
Also appear in the B端/禮物發放/新增禮物/手動選擇粉絲/新增粉絲/紛絲篩選 (tracking from git log [commit #`d6e91db` Randall   21 months ago (January 5th, 2023 11:05 PM)], the same commit in 21 months ago that use almost same .vue file (copy-paste) for this page’s filter)
    
    ![image.png](image%201.png)
    
- Due to complex error handling logic in the interceptors.js . This change does not touch original error message. Just add a nullish coalescing (??) operator in the end (only use the second one if the first one is null or undefined)

```jsx
alert(this.errText?.data?.status?.message ?? this.errText);
```

- now, both of the can display normally
    
    ![image.png](image%202.png)